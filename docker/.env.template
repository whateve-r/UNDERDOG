# =============================================================================
# UNDERDOG Trading System - Environment Configuration
# Copy this file to .env and fill in your credentials
# =============================================================================

# --- MetaTrader 5 Configuration ---
MT5_LOGIN=12345678
MT5_PASSWORD=your_mt5_password_here
MT5_SERVER=BrokerName-Demo  # e.g., "ICMarkets-Demo02"

# --- Database Configuration (TimescaleDB) ---
DB_USER=underdog
DB_PASSWORD=your_secure_db_password_here  # REQUIRED: Change this!
DB_NAME=underdog_trading
DB_HOST=timescaledb  # Docker service name
DB_PORT=5432

# --- Grafana Configuration ---
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_secure_grafana_password_here  # REQUIRED: Change this!

# --- Alert Configuration (Optional) ---
# Email Alerts (SMTP)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your_app_password_here  # Use App Password for Gmail
ALERT_EMAIL=alerts@your-domain.com

# Slack Alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Telegram Alerts
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=123456789

# --- Trading Configuration ---
INITIAL_CAPITAL=100000.0
MAX_DRAWDOWN_PCT=10.0  # Maximum drawdown before kill switch
DAILY_DD_LIMIT_PCT=2.0  # Daily drawdown limit
WEEKLY_DD_LIMIT_PCT=5.0  # Weekly drawdown limit
MONTHLY_DD_LIMIT_PCT=10.0  # Monthly drawdown limit

# Risk Management
MAX_POSITION_SIZE_PCT=5.0  # Max position size as % of capital
MAX_TOTAL_EXPOSURE_PCT=20.0  # Max total exposure
MAX_LEVERAGE=2.0  # Maximum leverage ratio

# --- Logging Configuration ---
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE_PATH=/app/logs/underdog.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# --- MLflow Configuration (Optional) ---
MLFLOW_TRACKING_URI=file:///app/mlruns
MLFLOW_EXPERIMENT_NAME=underdog_production

# --- Prometheus Pushgateway (Optional) ---
PROMETHEUS_PUSHGATEWAY=http://prometheus:9091

# --- Application Mode ---
TRADING_MODE=demo  # demo or live
DRY_RUN=false  # Set to true to prevent actual order execution

# --- Feature Flags ---
ENABLE_REGIME_DETECTION=true
ENABLE_FUZZY_LOGIC=true
ENABLE_ML_PREDICTIONS=true
ENABLE_WFO_OPTIMIZATION=false  # Enable for periodic parameter optimization

# --- System Configuration ---
HEALTH_CHECK_INTERVAL=30  # seconds
METRICS_EXPORT_INTERVAL=15  # seconds
MODEL_STALENESS_THRESHOLD=86400  # 24 hours in seconds

# =============================================================================
# SECURITY NOTES:
# 1. NEVER commit the actual .env file to Git (it's in .gitignore)
# 2. Use strong passwords for DB_PASSWORD and GRAFANA_PASSWORD
# 3. For Gmail SMTP, generate App Password at: google.com/settings/security
# 4. Rotate credentials regularly
# 5. Use environment-specific .env files (.env.prod, .env.dev)
# =============================================================================
